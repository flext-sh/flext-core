from collections.abc import Callable
from typing import Any, TypeVar, overload

_T = TypeVar("_T")
_U = TypeVar("_U")

__all__ = ["FlextResult", "safe_call"]

class FlextResult[T]:
    @overload
    def __init__(self, *, data: _T) -> None: ...
    @overload
    def __init__(
        self,
        *,
        error: str,
        error_code: str | None = ...,
        error_data: dict[str, object] | None = ...,
    ) -> None: ...
    def __init__(
        self,
        data: _T | None = ...,
        error: str | None = ...,
        error_code: str | None = ...,
        error_data: dict[str, object] | None = ...,
    ) -> None: ...
    @property
    def is_success(self) -> bool: ...
    @property
    def success(self) -> bool: ...
    @property
    def is_failure(self) -> bool: ...
    @property
    def is_fail(self) -> bool: ...
    @property
    def data(self) -> _T: ...
    @property
    def error(self) -> str | None: ...
    @property
    def error_code(self) -> str | None: ...
    @property
    def error_data(self) -> dict[str, object]: ...
    @property
    def metadata(self) -> dict[str, object]: ...
    @classmethod
    def ok(cls, data: _T, /) -> FlextResult[_T]: ...
    @classmethod
    def failure(
        cls,
        error: str,
        /,
        *,
        error_code: str | None = ...,
        error_data: dict[str, object] | None = ...,
    ) -> FlextResult[Any]: ...
    @classmethod
    def fail(
        cls,
        error: str,
        /,
        *,
        error_code: str | None = ...,
        error_data: dict[str, object] | None = ...,
    ) -> FlextResult[Any]: ...
    @staticmethod
    def chain_results(*results: FlextResult[object]) -> FlextResult[list[object]]: ...
    def unwrap(self) -> _T: ...
    def map(self, func: Callable[[_T], _U]) -> FlextResult[_U]: ...
    def flat_map(self, func: Callable[[_T], FlextResult[_U]]) -> FlextResult[_U]: ...
    def __bool__(self) -> bool: ...
    def unwrap_or(self, default: _U) -> _T | _U: ...
    def __eq__(self, other: object) -> bool: ...
    def __hash__(self) -> int: ...

def safe_call[T](func: Callable[[], T]) -> FlextResult[T]: ...
